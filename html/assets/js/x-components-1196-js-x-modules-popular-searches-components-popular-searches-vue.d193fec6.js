(window.webpackJsonp=window.webpackJsonp||[]).push([[103,86,101,102,104,106,107,108,109,110,111,112,113,189,435,436,437,438,442,443,444,445,450,453],{102:function(e,t,n){"use strict";n.r(t),n.d(t,"sanitize",(function(){return s}));var r=/[<>&]/g,s=function(e){return e.replace(r,(function(e){return"&#"+e.charCodeAt(0)+";"}))}},141:function(e,t,n){"use strict";n.r(t),n.d(t,"createFetchAndSaveActions",(function(){return s}));var r=n(97);function s(e){var t,n=e.fetch,s=e.onSuccess,u=e.onError,i=e.onCancel;function o(){null==t||t()}return{fetchAndSave:function(e,c){o(),e.commit("setStatus","loading");var a=Object(r.cancellablePromise)(n(e,c),(function(){!function(e){t=void 0,e.commit("setStatus","success"),null==i||i()}(e)})),l=a.promise,d=a.cancel;return t=d,l.then((function(t){return function(e,t){return Promise.resolve(s(e,t)).then((function(){e.commit("setStatus","success")}))}(e,t)})).catch((function(t){return function(e,t){t!==r.CancelSymbol&&(e.commit("setStatus","error"),null==u||u(t))}(e,t)}))},cancelPrevious:o}}},142:function(e,t,n){"use strict";function r(e,t){e.status=t}n.r(t),n.d(t,"setStatus",(function(){return r}))},292:function(e,t,n){"use strict";n.r(t);var r=n(16),s=n.n(r),u=n(421).default,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"x-suggestion",class:e.dynamicCSSClasses,on:{click:e.emitEvents}},[e._t("default",(function(){return[n("span",{staticClass:"x-suggestion__query",attrs:{"aria-label":e.suggestion.query},domProps:{innerHTML:e._s(e.queryHTML)}})]}),null,{suggestion:e.suggestion,queryHTML:e.queryHTML})],2)};i._withStripped=!0;var o=s()({render:i,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.default=o},295:function(e,t,n){"use strict";n.r(t);var r=n(16),s=n.n(r),u=n(17),i=n.n(u),o=n(439).default,c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.suggestions.length?n(e.animation,{tag:"component",staticClass:"x-list x-suggestions",attrs:{tag:"ul"}},e._l(e.suggestionsToRender,(function(t,r){return n("li",{key:e.suggestionsKeys[r],staticClass:"x-suggestions__item",attrs:{"data-test":"suggestion-item"}},[e._t("default",null,null,{suggestion:t,index:r})],2)})),0):e._e()};c._withStripped=!0;var a=function(e){e&&e("data-v-162f615e_0",{source:".x-suggestions[data-v-162f615e] {\n  list-style-type: none;\n}",map:void 0,media:void 0})},l=s()({render:c,staticRenderFns:[]},a,o,"data-v-162f615e",!1,void 0,!1,i.a,void 0,void 0);t.default=l},421:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(3),u=n(0),i=n(98),o=n(13),c=n(102),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return Object(r.__assign)({UserAcceptedAQuery:this.suggestion.query,UserSelectedASuggestion:this.suggestion},this.suggestionSelectedEvents)},enumerable:!1,configurable:!0}),t.prototype.emitEvents=function(){var e=this;Object(o.forEach)(this.events,(function(t,n){e.$x.emit(t,n,{target:e.$el,feature:e.feature})}))},Object.defineProperty(t.prototype,"hasMatchingQuery",{get:function(){return!!this.query&&Object(i.normalizeString)(this.suggestion.query).includes(this.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamicCSSClasses",{get:function(){return{"x-suggestion--matching":this.hasMatchingQuery}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queryHTML",{get:function(){if(this.hasMatchingQuery){var e=Object(i.normalizeString)(this.suggestion.query).indexOf(this.query),t=this.splitAt(this.suggestion.query,e,this.query.length);return t[0]+'<span data-test="matching-part" class="x-suggestion__matching-part">'+t[1]+"</span>"+t[2]}return Object(c.sanitize)(this.suggestion.query)},enumerable:!1,configurable:!0}),t.prototype.splitAt=function(e,t,n){var r=e.substr(0,t),s=e.substr(t,n),u=e.substr(t+n);return[Object(c.sanitize)(r),Object(c.sanitize)(s),Object(c.sanitize)(u)]},Object(r.__decorate)([Object(u.c)({default:""})],t.prototype,"query",void 0),Object(r.__decorate)([Object(u.c)({required:!0})],t.prototype,"suggestion",void 0),Object(r.__decorate)([Object(u.c)()],t.prototype,"feature",void 0),Object(r.__decorate)([Object(u.c)({required:!0})],t.prototype,"suggestionSelectedEvents",void 0),t=Object(r.__decorate)([u.a],t)}(s.default);t.default=a},432:function(e,t,n){"use strict";n.r(t),n.d(t,"popularSearchesXStoreModule",(function(){return o}));var r=n(142),s=n(446),u=n(459),i=n(460),o={state:function(){return{popularSearches:[],searchedQueries:[],status:"initial",config:{hideSessionQueries:!0,maxItemsToRequest:20,showExtraSuggestionWithoutFilter:!1},params:{}}},getters:{request:n(461).request,popularSearches:i.popularSearches},mutations:{setSuggestions:function(e,t){e.popularSearches=t},setSearchedQueries:function(e,t){e.searchedQueries=t},setStatus:r.setStatus,setParams:function(e,t){e.params=t}},actions:{cancelFetchAndSaveSuggestions:s.cancelFetchAndSaveSuggestions,fetchSuggestions:u.fetchSuggestions,fetchAndSaveSuggestions:s.fetchAndSaveSuggestions}}},439:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(3),u=n(0),i=n(96),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"suggestionsKeys",{get:function(){var e=this;return this.suggestions.map((function(t){return Object(i.isArrayEmpty)(t.facets)?t.query:t.query+"-in-"+e.getFacetsKey(t.facets)}))},enumerable:!1,configurable:!0}),t.prototype.getFacetsKey=function(e){return e.map(this.getFacetKey).join("&")},t.prototype.getFacetKey=function(e){return e.filters.map((function(e){return e.id})).join("&")},Object.defineProperty(t.prototype,"suggestionsToRender",{get:function(){return this.suggestions.slice(0,this.maxItemsToRender)},enumerable:!1,configurable:!0}),Object(r.__decorate)([Object(u.c)({required:!0})],t.prototype,"suggestions",void 0),Object(r.__decorate)([Object(u.c)({default:"ul"})],t.prototype,"animation",void 0),Object(r.__decorate)([Object(u.c)()],t.prototype,"maxItemsToRender",void 0),t=Object(r.__decorate)([u.a],t)}(s.default);t.default=o},446:function(e,t,n){"use strict";n.r(t),n.d(t,"cancelFetchAndSaveSuggestions",(function(){return c})),n.d(t,"fetchAndSaveSuggestions",(function(){return o}));var r=n(141),s=Object(r.createFetchAndSaveActions)({fetch:function(e,t){return(0,e.dispatch)("fetchSuggestions",t)},onSuccess:function(e,t){(0,e.commit)("setSuggestions",t)}}),u=s.fetchAndSave,i=s.cancelPrevious,o=u,c=i},459:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchSuggestions",(function(){return s}));var r=n(37),s=function(e,t){return r.XPlugin.adapter.getSuggestions(t,{requestId:"popularSearches"}).then((function(e){return e.suggestions}))}},460:function(e,t,n){"use strict";n.r(t),n.d(t,"popularSearches",(function(){return r}));var r=function(e){var t=e.popularSearches,n=e.searchedQueries,r=e.config,s=n.map((function(e){return e.query}));return r.hideSessionQueries?t.filter((function(e){var t=e.query;return!s.includes(t)})):t}},461:function(e,t,n){"use strict";n.r(t),n.d(t,"request",(function(){return s}));var r=n(1),s=function(e){var t=e.config,n=e.params;return Object(r.__assign)({rows:t.maxItemsToRequest,start:0},n)}},462:function(e,t,n){"use strict";n.r(t),n.d(t,"popularSearchesWiring",(function(){return l})),n.d(t,"setPopularSearchesExtraParams",(function(){return a})),n.d(t,"setSearchedQueriesInPopularSearches",(function(){return c}));var r=n(35),s=n(50),u=Object(s.namespacedWireDispatch)("popularSearches"),i=Object(s.namespacedWireCommit)("popularSearches"),o=u("fetchAndSaveSuggestions"),c=i("setSearchedQueries"),a=i("setParams"),l=Object(r.createWiring)({PopularSearchesRequestChanged:{retrievePopularSuggestions:o},SessionHistoryQueriesChanged:{setSearchedQueriesInPopularSearches:c},ExtraParamsChanged:{setPopularSearchesExtraParams:a}})},478:function(e,t,n){"use strict";n.r(t),n.d(t,"popularSearchesXModule",(function(){return i}));var r=n(432),s=n(494),u=n(462),i={name:"popularSearches",storeModule:r.popularSearchesXStoreModule,storeEmitters:s.popularSearchesEmitters,wiring:u.popularSearchesWiring}},494:function(e,t,n){"use strict";n.r(t),n.d(t,"popularSearchesEmitters",(function(){return u}));var r=n(61),s=n(432),u=Object(r.createStoreEmitters)(s.popularSearchesXStoreModule,{PopularSearchesRequestChanged:{selector:function(e,t){return t.request},immediate:!0}})},543:function(e,t,n){"use strict";n.r(t);var r=n(16),s=n.n(r),u=n(560).default,i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("BaseSuggestion",{staticClass:"x-popular-search",attrs:{suggestion:e.suggestion,suggestionSelectedEvents:e.events,"data-test":"popular-search",feature:"popular_search"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.suggestion;return[e._t("default",(function(){return[e._v(e._s(n.query))]}),{suggestion:n})]}}],null,!0)})};i._withStripped=!0;var o=s()({render:i,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.default=o},560:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(3),u=n(0),i=n(59),o=n(292),c=n(478),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return{UserSelectedAPopularSearch:this.suggestion}},enumerable:!1,configurable:!0}),Object(r.__decorate)([Object(u.c)({required:!0})],t.prototype,"suggestion",void 0),t=Object(r.__decorate)([Object(u.a)({components:{BaseSuggestion:o.default},mixins:[Object(i.xComponentMixin)(c.popularSearchesXModule)]})],t)}(s.default);t.default=a},702:function(e,t,n){"use strict";n.r(t);var r=n(16),s=n.n(r),u=n(703).default,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseSuggestions",{staticClass:"x-popular-searches",attrs:{suggestions:e.popularSearches,maxItemsToRender:e.maxItemsToRender,"data-test":"popular-searches",animation:e.animation},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.suggestion,s=t.index;return[e._t("suggestion",(function(){return[n("PopularSearch",{staticClass:"x-popular-searches__suggestion",attrs:{suggestion:r},scopedSlots:e._u([{key:"default",fn:function(){return[e._t("suggestion-content",null,null,{suggestion:r,index:s})]},proxy:!0}],null,!0)})]}),null,{suggestion:r,index:s})]}}],null,!0)})};i._withStripped=!0;var o=s()({render:i,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.default=o},703:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(3),u=n(0),i=n(60),o=n(59),c=n(295),a=n(478),l=n(543),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object(r.__decorate)([Object(u.c)()],t.prototype,"animation",void 0),Object(r.__decorate)([Object(u.c)()],t.prototype,"maxItemsToRender",void 0),Object(r.__decorate)([Object(i.Getter)("popularSearches","popularSearches")],t.prototype,"popularSearches",void 0),t=Object(r.__decorate)([Object(u.a)({components:{PopularSearch:l.default,BaseSuggestions:c.default},mixins:[Object(o.xComponentMixin)(a.popularSearchesXModule)]})],t)}(s.default);t.default=d},96:function(e,t,n){"use strict";function r(e){return null==e||0===e.length}function s(e,t){return e.reduce((function(e,n){return t?e[n[t]]=n:"string"==typeof n&&(e[n]=n),e}),{})}function u(e,t){return e.reduce((function(e,n,r){var s=t(n,r);return e[s]||(e[s]=[]),e[s].push(n),e}),{})}function i(e,t,n){var r=function(e,s){return void 0===s&&(s=[]),e.reduce((function(e,s){return t(s)&&(e.push(s),r(s[n],e)),e}),s)};return r(e)}function o(e,t){return function e(n,r){return r?Array.isArray(r)?r.reduce(e,n):(n.push(r),e(n,r[t])):n}([],e)}function c(e){var t="function"==typeof e?e:function(t,n){return t[e]===n[e]};return function(e,n){return e.length!==n.length||e.some((function(e){return!n.find((function(n){return t(e,n)}))}))}}n.r(t),n.d(t,"arrayToObject",(function(){return s})),n.d(t,"createEmitterArrayFilter",(function(){return c})),n.d(t,"deepFilter",(function(){return i})),n.d(t,"deepFlat",(function(){return o})),n.d(t,"groupItemsBy",(function(){return u})),n.d(t,"isArrayEmpty",(function(){return r}))},97:function(e,t,n){"use strict";n.r(t),n.d(t,"CancelSymbol",(function(){return s})),n.d(t,"cancellablePromise",(function(){return u}));var r=n(36),s=Symbol("cancelled-promise");function u(e,t){var n=r.noOp,u=new Promise((function(e,r){n=function(e){r(s),null==t||t(e)}}));return{promise:Promise.race([e,u]),cancel:n}}},98:function(e,t,n){"use strict";n.r(t),n.d(t,"normalizeString",(function(){return s}));var r="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}:function(e){return e};function s(e){var t;return e=null!==(t=null==e?void 0:e.trim().toLowerCase())&&void 0!==t?t:"",r(e)}}}]);