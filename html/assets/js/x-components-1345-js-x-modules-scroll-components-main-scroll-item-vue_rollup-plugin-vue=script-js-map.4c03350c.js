(window.webpackJsonp=window.webpackJsonp||[]).push([[656],{1432:function(A,e){throw new Error("Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {\"version\":3,\"file\":\"main-scroll-item.vue_rollup-plugin-vue=script.js\",\"sources\":[\"../../../../../src/x-modules/scroll/components/main-scroll-item.vue?rollup-plugin-vue=script.ts\"],\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\nimport { Identifiable } from '@empathyco/x-types';\\nimport Vue from 'vue';\\nimport { Component, Prop } from 'vue-property-decorator';\\nimport { NoElement, State, xComponentMixin } from '../../../components';\\nimport { XInject } from '../../../components/decorators/injection.decorators';\\nimport { scrollXModule } from '../x-module';\\nimport { ScrollObserverKey } from './scroll.const';\\nimport { ScrollVisibilityObserver } from './scroll.types';\\n\\n/**\\n * Wrapper for elements contained in the {@link MainScroll} that should store/restore its\\n * position.\\n *\\n * @public\\n */\\n@Component({\\n  mixins: [xComponentMixin(scrollXModule)]\\n})\\nexport default class MainScrollItem extends Vue {\\n  /**\\n   * Rendered HTML node.\\n   *\\n   * @public\\n   */\\n  public $el!: HTMLElement;\\n\\n  /**\\n   * The item data. Used to set the scroll identifier.\\n   *\\n   * @public\\n   */\\n  @Prop({ required: true })\\n  public item!: Identifiable;\\n\\n  /**\\n   * The tag to render.\\n   *\\n   * @public\\n   */\\n  @Prop({ default: () => NoElement })\\n  public tag!: string | typeof Vue;\\n\\n  /**\\n   * Pending identifier scroll position to restore. If it matches the {@link MainScrollItem.item}\\n   * `id` property, this component should be scrolled into view.\\n   *\\n   * @internal\\n   */\\n  @State('scroll', 'pendingScrollTo')\\n  public pendingScrollTo!: string;\\n\\n  /**\\n   * Observer to detect the first visible element.\\n   *\\n   * @internal\\n   */\\n  @XInject(ScrollObserverKey)\\n  public firstVisibleItemObserver!: ScrollVisibilityObserver | null;\\n\\n  /**\\n   * Initialise scroll behavior.\\n   * - Observes the rendered element to detect if it is the first visible item.\\n   * - If the rendered element matches the {@link MainScrollItem.pendingScrollTo}, scrolls the\\n   * element into the first position of the view.\\n   *\\n   * @internal\\n   */\\n  async mounted(): Promise<void> {\\n    await this.$nextTick(); // Mounted does not guarantee that child components are mounted too\\n    // eslint-disable-next-line @typescript-eslint/unbound-method\\n    this.$watch('firstVisibleItemObserver', this.observeItem, { immediate: true });\\n  }\\n\\n  /**\\n   * Detaches the observer from the rendered element to prevent memory leaks.\\n   *\\n   * @internal\\n   */\\n  beforeDestroy(): void {\\n    this.firstVisibleItemObserver?.unobserve(this.$el);\\n  }\\n\\n  /**\\n   * Initialises the element visibility observation, stopping the previous one if it has.\\n   *\\n   * @param newObserver - The new observer for the HTML element.\\n   * @param oldObserver - The old observer for the HTML element.\\n   */\\n  observeItem(\\n    newObserver: ScrollVisibilityObserver | null,\\n    oldObserver: ScrollVisibilityObserver | null\\n  ): void {\\n    oldObserver?.unobserve(this.$el);\\n    newObserver?.observe(this.$el);\\n    if (this.pendingScrollTo === this.item.id) {\\n      this.$el.scrollIntoView();\\n      this.$x.emit('ScrollRestoreSucceeded');\\n    }\\n  }\\n}\\n\"],\"names\":[],\"mappings\":\";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA;;;;;;AASA;IAA4C,kCAAG;IAA/C;;KAiFC;;;;;;;;;IAhCO,gCAAO,GAAb;;;;4BACE,qBAAM,IAAI,CAAC,SAAS,EAAE,EAAA;;wBAAtB,SAAsB,CAAC;;wBAEvB,IAAI,CAAC,MAAM,CAAC,0BAA0B,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;;;;;KAChF;;;;;;IAOD,sCAAa,GAAb;;QACE,MAAA,IAAI,CAAC,wBAAwB,0CAAE,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACpD;;;;;;;IAQD,oCAAW,GAAX,UACE,WAA4C,EAC5C,WAA4C;QAE5C,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACjC,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YACzC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;YAC1B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;SACxC;KACF;IAlED;QADC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;gDACE;IAQ3B;QADC,IAAI,CAAC,EAAE,OAAO,EAAE,cAAM,OAAA,SAAS,GAAA,EAAE,CAAC;+CACF;IASjC;QADC,KAAK,CAAC,QAAQ,EAAE,iBAAiB,CAAC;2DACH;IAQhC;QADC,OAAO,CAAC,iBAAiB,CAAC;oEACuC;IAvC/C,cAAc;QAHlC,SAAS,CAAC;YACT,MAAM,EAAE,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;SACzC,CAAC;OACmB,cAAc,CAiFlC;IAAD,qBAAC;CAAA,CAjF2C,GAAG;;;;\"}")}}]);