(window.webpackJsonp=window.webpackJsonp||[]).push([[929],{1206:function(A,e){throw new Error("Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {\"version\":3,\"file\":\"base-suggestion.vue_rollup-plugin-vue=script.js\",\"sources\":[\"../../../../src/components/suggestions/base-suggestion.vue?rollup-plugin-vue=script.ts\"],\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nimport { Suggestion } from '@empathyco/x-types';\\nimport Vue from 'vue';\\nimport { Component, Prop } from 'vue-property-decorator';\\nimport { QueryFeature } from '../../types/origin';\\nimport { forEach } from '../../utils/object';\\nimport { normalizeString } from '../../utils/normalize';\\nimport { sanitize } from '../../utils/sanitize';\\nimport { VueCSSClasses } from '../../utils/types';\\nimport { XEventsTypes } from '../../wiring/events.types';\\n\\n/**\\n * Renders a button with a default slot. It receives a query, which should be the query of the\\n * module using this component, a suggestion, the {@link XEvent | XEvents} that will be emitted\\n * on click with a given feature.\\n *\\n * The default slot receives the suggestion and the matched query has props.\\n *\\n * @public\\n */\\n@Component\\nexport default class BaseSuggestion extends Vue {\\n  /**\\n   * The normalized query of the module using this component.\\n   *\\n   * @public\\n   */\\n  @Prop({ default: '' })\\n  protected query!: string;\\n\\n  /**\\n   * The suggestion to render and use in the default slot.\\n   *\\n   * @public\\n   */\\n  @Prop({ required: true })\\n  protected suggestion!: Suggestion;\\n\\n  /**\\n   * The feature from which the events will be emitted.\\n   *\\n   * @public\\n   */\\n  @Prop() //TODO: set to true when the suggestions components pass it.\\n  protected feature?: QueryFeature;\\n\\n  /**\\n   * The {@link XEvent | XEvents} that will be emitted when selecting a suggestion.\\n   *\\n   * @public\\n   */\\n  @Prop({ required: true })\\n  protected suggestionSelectedEvents!: Partial<XEventsTypes>;\\n\\n  /**\\n   * The event handler that will be triggered when clicking on a suggestion.\\n   *\\n   * @remarks\\n   * * UserAcceptedAQuery: suggestion.query\\n   * * UserSelectedASuggestion: suggestion\\n   * * Merges the events defined in the suggestionSelectedEvents prop and also emits them\\n   *\\n   * @returns The {@link XEvent | XEvents} to emit.\\n   * @public\\n   */\\n  protected get events(): Partial<XEventsTypes> {\\n    return {\\n      UserAcceptedAQuery: this.suggestion.query,\\n      UserSelectedASuggestion: this.suggestion,\\n      ...this.suggestionSelectedEvents\\n    };\\n  }\\n\\n  /**\\n   * Emits the events when the button is clicked.\\n   *\\n   * @public\\n   */\\n  protected emitEvents(): void {\\n    forEach(this.events, (event, payload) => {\\n      this.$x.emit(event, payload, {\\n        target: this.$el as HTMLElement,\\n        feature: this.feature\\n      });\\n    });\\n  }\\n\\n  /**\\n   * Checks if the normalized suggestion query matches with the module's query so it has a\\n   * matching part.\\n   *\\n   * @returns If the query has a matching part or not.\\n   * @internal\\n   */\\n  protected get hasMatchingQuery(): boolean {\\n    return !!this.query && normalizeString(this.suggestion.query).includes(this.query);\\n  }\\n\\n  /**\\n   * Generates css classes dynamically.\\n   *\\n   * @remarks\\n   * 'x-suggestion--matching added when the query should be matched.\\n   *\\n   * @returns The {@link VueCSSClasses} classes.\\n   * @public\\n   */\\n  protected get dynamicCSSClasses(): VueCSSClasses {\\n    return {\\n      'x-suggestion--matching': this.hasMatchingQuery\\n    };\\n  }\\n\\n  /**\\n   * Highlights the matching part of the suggestion query with the query passed as prop of the\\n   * component putting it inside a `<span>` tag.\\n   *\\n   * @remarks\\n   * The query prop should be normalized.\\n   *\\n   * @returns The suggestion's query with the matching part inside a `<span>` tag.\\n   * @public\\n   */\\n  protected get queryHTML(): string {\\n    if (this.hasMatchingQuery) {\\n      const matcherIndex = normalizeString(this.suggestion.query).indexOf(this.query);\\n\\n      const [beginning, matching, end] = this.splitAt(\\n        this.suggestion.query,\\n        matcherIndex,\\n        this.query.length\\n      );\\n\\n      const attrsMatching = 'data-test=\\\"matching-part\\\" class=\\\"x-suggestion__matching-part\\\"';\\n      return `${beginning}<span ${attrsMatching}>${matching}</span>${end}`;\\n    }\\n\\n    return sanitize(this.suggestion.query);\\n  }\\n\\n  /**\\n   * Splits the label in three parts based on two indexes.\\n   *\\n   * @param label - The string that will be divided in three parts.\\n   * @param start - The first index that the label will be divided by.\\n   * @param skip - The second index that the label will be divided by.\\n   *\\n   * @returns The three parts of the divided label.\\n   * @internal\\n   */\\n  protected splitAt(label: string, start: number, skip: number): [string, string, string] {\\n    const startPart = label.substr(0, start);\\n    const matchingPart = label.substr(start, skip);\\n    const endPart = label.substr(start + skip);\\n\\n    return [sanitize(startPart), sanitize(matchingPart), sanitize(endPart)];\\n  }\\n}\\n\"],\"names\":[],\"mappings\":\";;;;;;;AA0BA;;;;;;;;;AAUA;IAA4C,kCAAG;IAA/C;;KAwIC;IA5FC,sBAAc,kCAAM;;;;;;;;;;;;aAApB;YACE,kBACE,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,EACzC,uBAAuB,EAAE,IAAI,CAAC,UAAU,IACrC,IAAI,CAAC,wBAAwB,EAChC;SACH;;;OAAA;;;;;;IAOS,mCAAU,GAApB;QAAA,iBAOC;QANC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,OAAO;YAClC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE;gBAC3B,MAAM,EAAE,KAAI,CAAC,GAAkB;gBAC/B,OAAO,EAAE,KAAI,CAAC,OAAO;aACtB,CAAC,CAAC;SACJ,CAAC,CAAC;KACJ;IASD,sBAAc,4CAAgB;;;;;;;;aAA9B;YACE,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpF;;;OAAA;IAWD,sBAAc,6CAAiB;;;;;;;;;;aAA/B;YACE,OAAO;gBACL,wBAAwB,EAAE,IAAI,CAAC,gBAAgB;aAChD,CAAC;SACH;;;OAAA;IAYD,sBAAc,qCAAS;;;;;;;;;;;aAAvB;YACE,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAM,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAE1E,IAAA,KAA6B,IAAI,CAAC,OAAO,CAC7C,IAAI,CAAC,UAAU,CAAC,KAAK,EACrB,YAAY,EACZ,IAAI,CAAC,KAAK,CAAC,MAAM,CAClB,EAJM,SAAS,QAAA,EAAE,QAAQ,QAAA,EAAE,GAAG,QAI9B,CAAC;gBAEF,IAAM,aAAa,GAAG,+DAA+D,CAAC;gBACtF,OAAU,SAAS,cAAS,aAAa,SAAI,QAAQ,eAAU,GAAK,CAAC;aACtE;YAED,OAAO,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SACxC;;;OAAA;;;;;;;;;;;IAYS,gCAAO,GAAjB,UAAkB,KAAa,EAAE,KAAa,EAAE,IAAY;QAC1D,IAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACzC,IAAM,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC/C,IAAM,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;QAE3C,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,YAAY,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;KACzE;IAhID;QADC,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;iDACG;IAQzB;QADC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;sDACS;IAQlC;QADC,IAAI,EAAE;mDAC0B;IAQjC;QADC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;oEACkC;IA/BxC,cAAc;QADlC,SAAS;OACW,cAAc,CAwIlC;IAAD,qBAAC;CAAA,CAxI2C,GAAG;;;;\"}")}}]);