(window.webpackJsonp=window.webpackJsonp||[]).push([[441],{534:function(t,i,e){"use strict";e.r(i),e.d(i,"DirectionalFocusNavigationService",(function(){return r}));var o=e(1),r=function(){function t(t,i){var e=this;void 0===i&&(i='a, button, details, input, textarea, select, [tabindex]:not([tabindex="-1"])'),this.container=t,this.focusableSelectors=i,this.intersectionAreaWeight=100,this.orthogonalWeightHorizontal=30,this.orthogonalWeightVertical=2,this.alignWeight=5,this.filterFunction={ArrowUp:function(t){return e.isBelow(e.originRect,t)},ArrowRight:function(t){return e.isRightSide(t,e.originRect)},ArrowDown:function(t){return e.isBelow(t,e.originRect)},ArrowLeft:function(t){return e.isRightSide(e.originRect,t)}}}return t.prototype.navigateTo=function(t){var i=this.getFocusableElements();return this.direction=t,this.updateOrigin(),this.getBestCandidate(i)},t.prototype.getFocusableElements=function(){return Array.from(this.container.querySelectorAll(this.focusableSelectors))},t.prototype.updateOrigin=function(){var t=document.activeElement;this.origin=t,this.originRect=t.getBoundingClientRect()},t.prototype.getBestCandidate=function(t){var i=this,e=this.filterCandidates(t),o=this.origin;return e.reduce((function(t,e){var r=Math.min(t,i.getDistanceScore(e));return r!==t&&(o=e),r}),Number.MAX_SAFE_INTEGER),o},t.prototype.filterCandidates=function(t){var i=this;return t.filter((function(t){return i.isValidCandidate(t)}))},t.prototype.isValidCandidate=function(t){return t!==this.origin&&this.isCandidateVisible(t)&&this.hasFocusCompatibleAttributes(t)&&this.isInNavigateDirection(t)},t.prototype.isCandidateVisible=function(t){var i=window.getComputedStyle(t,null);return!(!t.offsetWidth||!t.offsetHeight||"visible"!==i.visibility)},t.prototype.hasFocusCompatibleAttributes=function(t){return!t.getAttribute("disabled")&&"-1"!==t.getAttribute("tabindex")},t.prototype.isInNavigateDirection=function(t){return this.filterFunction[this.direction](t.getBoundingClientRect())},t.prototype.getDistanceScore=function(t){var i=t.getBoundingClientRect(),e=this.getComparisionPoints(i),o=e[0],r=e[1],n={x:Math.abs(o.x-r.x),y:Math.abs(o.y-r.y)},s=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)),h=this.getIntersection(this.originRect,i),a=this.getDisplacementAndAlignment(i,h,n);return s+a.displacement-a.alignment-Math.sqrt(h.area)/this.intersectionAreaWeight},t.prototype.getComparisionPoints=function(t){var i=[{x:0,y:0},{x:0,y:0}];return Object(o.__assign)(Object(o.__assign)({},this.setParallelPointValues(i,t)),this.setOrthogonalPointValues(i,t))},t.prototype.setParallelPointValues=function(t,i){var e=t[0],o=t[1];switch(this.direction){case"ArrowUp":e.y=Math.min(i.bottom,this.originRect.top),o.y=this.originRect.top;break;case"ArrowDown":e.y=Math.max(i.top,this.originRect.bottom),o.y=this.originRect.bottom;break;case"ArrowRight":e.x=Math.max(i.left,this.originRect.right),o.x=this.originRect.right;break;case"ArrowLeft":e.x=Math.min(i.right,this.originRect.left),o.x=this.originRect.left}return[e,o]},t.prototype.setOrthogonalPointValues=function(t,i){var e=t[0],o=t[1];switch(this.direction){case"ArrowUp":case"ArrowDown":this.isRightSide(this.originRect,i)?(e.x=Math.min(i.right,this.originRect.left),o.x=this.originRect.left):this.isRightSide(i,this.originRect)?(e.x=Math.max(i.left,this.originRect.right),o.x=this.originRect.right):(e.x=Math.max(this.originRect.left,i.left),o.x=e.x);break;case"ArrowRight":case"ArrowLeft":this.isBelow(this.originRect,i)?(e.y=Math.min(i.bottom,this.originRect.top),o.y=this.originRect.top):this.isBelow(i,this.originRect)?(e.y=Math.max(i.top,this.originRect.bottom),o.y=this.originRect.bottom):(e.y=Math.max(this.originRect.top,i.top),o.y=e.y)}return[e,o]},t.prototype.getDisplacementAndAlignment=function(t,i,e){var o=this.areAligned(this.originRect,t),r=0,n=0,s=0;switch(this.direction){case"ArrowUp":case"ArrowDown":o?r=Math.min(i.width/this.originRect.width,1):n=this.originRect.width/2,s=(e.x+n)*this.orthogonalWeightVertical;break;case"ArrowRight":case"ArrowLeft":o?r=Math.min(i.height/this.originRect.height,1):n=this.originRect.height/2,s=(e.y+n)*this.orthogonalWeightHorizontal}return{displacement:s,alignment:r*this.alignWeight}},t.prototype.getIntersection=function(t,i){var e={width:0,height:0,area:0},o=Math.max(t.left,i.left),r=Math.max(t.top,i.top),n=Math.min(t.right,i.right),s=Math.min(t.bottom,i.bottom);return e.width=Math.abs(o-n),e.height=Math.abs(r-s),(o<n||r<s)&&(e.area=e.width*e.height),e},t.prototype.areAligned=function(t,i){return"ArrowLeft"===this.direction||"ArrowRight"===this.direction?t.bottom>i.top&&t.top<i.bottom:t.right>i.left&&t.left<i.right},t.prototype.isBelow=function(t,i){return t.top>=i.bottom||t.top>=i.top&&t.bottom>i.bottom&&t.left<i.right&&t.right>i.left},t.prototype.isRightSide=function(t,i){return t.left>=i.right||t.left>=i.left&&t.right>i.right&&t.bottom>i.top&&t.top<i.bottom},t}()}}]);