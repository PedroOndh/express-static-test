(window.webpackJsonp=window.webpackJsonp||[]).push([[699],{1471:function(A,e){throw new Error("Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {\"version\":3,\"file\":\"fetch-and-save-search-response.action.js\",\"sources\":[\"../../../../../../src/x-modules/search/store/actions/fetch-and-save-search-response.action.ts\"],\"sourcesContent\":[\"import { SearchResponse, SearchRequest } from '@empathyco/x-adapter';\\nimport { createFetchAndSaveActions } from '../../../../store/utils/fetch-and-save-action.utils';\\nimport { InternalSearchRequest } from '../../types';\\nimport { SearchActionContext, SearchState } from '../types';\\n\\nconst { fetchAndSave, cancelPrevious } = createFetchAndSaveActions<\\n  SearchActionContext,\\n  InternalSearchRequest | null,\\n  SearchResponse\\n>({\\n  fetch({ dispatch, state }, request) {\\n    return dispatch('fetchSearchResponse', request ? enrichRequest(request, state) : null);\\n  },\\n  onSuccess(\\n    { commit, state },\\n    {\\n      results,\\n      partialResults,\\n      facets,\\n      banners,\\n      promoteds,\\n      totalResults,\\n      spellcheck,\\n      redirections,\\n      queryTagging\\n    }\\n  ) {\\n    if (state.isAppendResults) {\\n      commit('appendResults', results);\\n    } else {\\n      commit('setResults', results);\\n      commit('setBanners', banners);\\n      commit('setPromoteds', promoteds);\\n      commit('setRedirections', redirections);\\n    }\\n\\n    commit('setPartialResults', partialResults ?? []);\\n\\n    if (facets) {\\n      commit('setFacets', facets);\\n    }\\n\\n    if (queryTagging) {\\n      commit('setQueryTagging', queryTagging);\\n    }\\n    commit('setTotalResults', totalResults);\\n    commit('setSpellcheck', spellcheck ?? '');\\n  }\\n});\\n\\n/**\\n * Enriches the {@link SearchRequest} object with the origin and page properties taken from the\\n * {@link SearchState | search state}.\\n *\\n * @param request - The {@link InternalSearchRequest}.\\n * @param state - {@link SearchState}.\\n *\\n * @returns The search request.\\n * @internal\\n */\\nfunction enrichRequest(request: InternalSearchRequest, state: SearchState): SearchRequest {\\n  const { page, ...restRequest } = request;\\n  const {\\n    config: { pageSize },\\n    origin,\\n    results\\n  } = state;\\n  const start = page === 1 ? 0 : results.length;\\n\\n  return {\\n    ...restRequest,\\n    // eslint-disable-next-line @typescript-eslint/no-extra-parens\\n    ...(origin && { origin }),\\n    start,\\n    rows: pageSize * page - start\\n  };\\n}\\n\\n/**\\n * Default implementation for {@link SearchActions.fetchAndSaveSearchResponse} action.\\n *\\n * @public\\n */\\nexport const fetchAndSaveSearchResponse = fetchAndSave;\\n\\n/**\\n * Default implementation for {@link SearchActions.cancelFetchAndSaveSearchResponse} action.\\n *\\n * @public\\n */\\nexport const cancelFetchAndSaveSearchResponse = cancelPrevious;\\n\"],\"names\":[],\"mappings\":\";;;AAKM,IAAA,KAAmC,yBAAyB,CAIhE;IACA,KAAK,YAAC,EAAmB,EAAE,OAAO;YAA1B,QAAQ,cAAA,EAAE,KAAK,WAAA;QACrB,OAAO,QAAQ,CAAC,qBAAqB,EAAE,OAAO,GAAG,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;KACxF;IACD,SAAS,YACP,EAAiB,EACjB,EAUC;YAXC,MAAM,YAAA,EAAE,KAAK,WAAA;YAEb,OAAO,aAAA,EACP,cAAc,oBAAA,EACd,MAAM,YAAA,EACN,OAAO,aAAA,EACP,SAAS,eAAA,EACT,YAAY,kBAAA,EACZ,UAAU,gBAAA,EACV,YAAY,kBAAA,EACZ,YAAY,kBAAA;QAGd,IAAI,KAAK,CAAC,eAAe,EAAE;YACzB,MAAM,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;SAClC;aAAM;YACL,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;YAC9B,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;YAC9B,MAAM,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;YAClC,MAAM,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;SACzC;QAED,MAAM,CAAC,mBAAmB,EAAE,cAAc,aAAd,cAAc,cAAd,cAAc,GAAI,EAAE,CAAC,CAAC;QAElD,IAAI,MAAM,EAAE;YACV,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;SAC7B;QAED,IAAI,YAAY,EAAE;YAChB,MAAM,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;SACzC;QACD,MAAM,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;QACxC,MAAM,CAAC,eAAe,EAAE,UAAU,aAAV,UAAU,cAAV,UAAU,GAAI,EAAE,CAAC,CAAC;KAC3C;CACF,CAAC,EA3CM,YAAY,kBAAA,EAAE,cAAc,oBA2ClC,CAAC;AAEH;;;;;;;;;;AAUA,SAAS,aAAa,CAAC,OAA8B,EAAE,KAAkB;IAC/D,IAAA,IAAI,GAAqB,OAAO,KAA5B,EAAK,WAAW,UAAK,OAAO,EAAlC,QAAwB,CAAF,CAAa;IAE7B,IAAA,QAAQ,GAGhB,KAAK,gBAHW,EAClB,MAAM,GAEJ,KAAK,OAFD,EACN,OAAO,GACL,KAAK,QADA,CACC;IACV,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAE9C,sCACK,WAAW,IAEV,MAAM,IAAI,EAAE,MAAM,QAAA,EAAE,MACxB,KAAK,OAAA,EACL,IAAI,EAAE,QAAQ,GAAG,IAAI,GAAG,KAAK,IAC7B;AACJ,CAAC;AAED;;;;;IAKa,0BAA0B,GAAG,aAAa;AAEvD;;;;;IAKa,gCAAgC,GAAG;;;;\"}")}}]);