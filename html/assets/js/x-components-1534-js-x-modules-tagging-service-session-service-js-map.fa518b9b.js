(window.webpackJsonp=window.webpackJsonp||[]).push([[725],{1495:function(A,e){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"session.service.js","sources":["../../../../../src/x-modules/tagging/service/session.service.ts"],"sourcesContent":["import { nanoid } from \'nanoid\';\\nimport { BrowserStorageService, StorageService } from \'@empathyco/x-storage-service\';\\nimport { SessionService } from \'./types\';\\n\\n/**\\n * Default implementation for the {@link SessionService}.\\n *\\n * @public\\n */\\nexport class DefaultSessionService implements SessionService {\\n  /**\\n   * Session id key to use as key in the storage.\\n   *\\n   * @public\\n   */\\n  public static readonly SESSION_ID_KEY = \'session-id\';\\n\\n  /**\\n   * Global instance of the {@link SessionService}.\\n   */\\n  public static instance: SessionService = new DefaultSessionService();\\n\\n  public constructor(\\n    protected storageService: StorageService = new BrowserStorageService(localStorage, \'x\'),\\n    protected ttlMs = 1800000 // 30m * 60s * 1000 = 1800_000ms\\n  ) {}\\n\\n  /**\\n   * Returns the session id of the storage.\\n   *\\n   * @returns The current session id.\\n   *\\n   * @public\\n   */\\n  getSessionId(): string {\\n    const sessionId = this.storageService.getItem(DefaultSessionService.SESSION_ID_KEY) ?? nanoid();\\n    this.storageService.setItem(\\n      DefaultSessionService.SESSION_ID_KEY,\\n      sessionId,\\n      Date.now() + this.ttlMs\\n    );\\n    return sessionId;\\n  }\\n\\n  /**\\n   * Removes the session if from the storage.\\n   *\\n   * @public\\n   */\\n  clearSessionId(): void {\\n    this.storageService.removeItem(DefaultSessionService.SESSION_ID_KEY);\\n  }\\n}\\n"],"names":[],"mappings":";;;AAIA;;;;;;IAkBE,+BACY,cAA6E,EAC7E,KAAe;;QADf,+BAAA,EAAA,qBAAqC,qBAAqB,CAAC,YAAY,EAAE,GAAG,CAAC;QAC7E,sBAAA,EAAA,eAAe;QADf,mBAAc,GAAd,cAAc,CAA+D;QAC7E,UAAK,GAAL,KAAK,CAAU;KACvB;;;;;;;;IASJ,4CAAY,GAAZ;;QACE,IAAM,SAAS,GAAG,MAAA,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,qBAAqB,CAAC,cAAc,CAAC,mCAAI,MAAM,EAAE,CAAC;QAChG,IAAI,CAAC,cAAc,CAAC,OAAO,CACzB,qBAAqB,CAAC,cAAc,EACpC,SAAS,EACT,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CACxB,CAAC;QACF,OAAO,SAAS,CAAC;KAClB;;;;;;IAOD,8CAAc,GAAd;QACE,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;KACtE;;;;;;IApCsB,oCAAc,GAAG,YAAY,CAAC;;;;IAKvC,8BAAQ,GAAmB,IAAI,qBAAqB,EAAE,CAAC;IAgCvE,4BAAC;CA3CD;;;;"}')}}]);