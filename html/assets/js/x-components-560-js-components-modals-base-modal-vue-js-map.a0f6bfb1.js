(window.webpackJsonp=window.webpackJsonp||[]).push([[891],{1171:function(e,n){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"base-modal.vue.js","sources":["../../../../src/components/modals/base-modal.vue"],"sourcesContent":["<template>\\n  <component :is=\\"animation\\" @beforeEnter=\\"showOverlay = false\\" @afterEnter=\\"showOverlay = true\\">\\n    <div v-if=\\"open\\" class=\\"x-modal\\" data-test=\\"modal\\">\\n      <div ref=\\"modal\\" class=\\"x-modal__content x-list\\" data-test=\\"modal-content\\" role=\\"dialog\\">\\n        \x3c!-- @slot (Required) Modal container content --\x3e\\n        <slot />\\n      </div>\\n      <div\\n        @click=\\"emitOverlayClicked\\"\\n        class=\\"x-modal__overlay\\"\\n        :class=\\"{ \'x-modal__overlay--is-visible\': showOverlay }\\"\\n        data-test=\\"modal-overlay\\"\\n      />\\n    </div>\\n  </component>\\n</template>\\n\\n<script lang=\\"ts\\">\\n  import Vue from \'vue\';\\n  import { Component, Prop } from \'vue-property-decorator\';\\n  import { NoElement } from \'../no-element\';\\n\\n  /**\\n   * Base component with no XPlugin dependencies that serves as a utility for constructing more\\n   * complex modals.\\n   *\\n   * @public\\n   */\\n  @Component\\n  export default class BaseModal extends Vue {\\n    /**\\n     * Animation to use for opening/closing the modal.\\n     */\\n    @Prop({ default: () => NoElement })\\n    public animation!: Vue | string;\\n\\n    /**\\n     * Determines if the modal is open or not.\\n     */\\n    @Prop({ required: true })\\n    public open!: boolean;\\n\\n    /** The previous value of the body overflow style. */\\n    protected previousBodyOverflow = \'\';\\n    /** The previous value of the HTML element overflow style. */\\n    protected previousHTMLOverflow = \'\';\\n    /** To animate the overlay opacity after and before the animation. */\\n    protected showOverlay = true;\\n\\n    public $refs!: {\\n      modal: HTMLDivElement;\\n    };\\n\\n    protected mounted(): void {\\n      /* Watcher added after mount to prevent SSR from breaking */\\n      // eslint-disable-next-line @typescript-eslint/unbound-method\\n      this.$watch(\'open\', this.syncBody, { immediate: true });\\n    }\\n\\n    /**\\n     * Syncs the body to the open state of the modal, adding or removing styles and listeners.\\n     *\\n     * @param isOpen - True when the modal is opened.\\n     * @internal\\n     */\\n    protected syncBody(isOpen: boolean): void {\\n      if (isOpen) {\\n        this.disableScroll();\\n        this.addBodyListeners();\\n        /* eslint-disable @typescript-eslint/unbound-method */\\n        this.$on(\'hook:beforeDestroy\', this.removeBodyListeners);\\n        this.$on(\'hook:beforeDestroy\', this.enableScroll);\\n        /* eslint-enable @typescript-eslint/unbound-method */\\n      } else {\\n        this.enableScroll();\\n        this.removeBodyListeners();\\n        /* eslint-disable @typescript-eslint/unbound-method */\\n        this.$off(\'hook:beforeDestroy\', this.removeBodyListeners);\\n        this.$off(\'hook:beforeDestroy\', this.enableScroll);\\n        /* eslint-enable @typescript-eslint/unbound-method */\\n      }\\n    }\\n\\n    /**\\n     * Disables the scroll of both the body and the window.\\n     *\\n     * @internal\\n     */\\n    protected disableScroll(): void {\\n      this.previousBodyOverflow = document.body.style.overflow;\\n      this.previousHTMLOverflow = document.documentElement.style.overflow;\\n      document.body.style.overflow = document.documentElement.style.overflow = \'hidden\';\\n    }\\n\\n    /**\\n     * Restores the scroll of both the body and the window.\\n     *\\n     * @internal\\n     */\\n    protected enableScroll(): void {\\n      document.body.style.overflow = this.previousBodyOverflow;\\n      document.documentElement.style.overflow = this.previousHTMLOverflow;\\n      document.body.style.overflow = document.documentElement.style.overflow = \'\';\\n    }\\n\\n    /**\\n     * Adds listeners to the body element ot detect if the modal should be closed.\\n     *\\n     * @internal\\n     */\\n    protected addBodyListeners(): void {\\n      /* eslint-disable @typescript-eslint/unbound-method */\\n      document.body.addEventListener(\'focusin\', this.emitFocusInBody);\\n      /* eslint-enable @typescript-eslint/unbound-method */\\n    }\\n\\n    /**\\n     * Removes the body listeners.\\n     *\\n     * @internal\\n     */\\n    protected removeBodyListeners(): void {\\n      /* eslint-disable @typescript-eslint/unbound-method */\\n      document.body.removeEventListener(\'focusin\', this.emitFocusInBody);\\n      /* eslint-enable @typescript-eslint/unbound-method */\\n    }\\n\\n    /**\\n     * Emits the `click:overlay` event if the click has been triggered in the overlay layer.\\n     *\\n     * @param event - The click event.\\n     * @internal\\n     */\\n    protected emitOverlayClicked(event: MouseEvent): void {\\n      this.$emit(\'click:overlay\', event);\\n    }\\n\\n    /**\\n     * Emits the `focusin:body` event if a focus event has been triggered outside the modal.\\n     *\\n     * @param event - The focusin event.\\n     * @internal\\n     */\\n    protected emitFocusInBody(event: FocusEvent): void {\\n      if (!this.$refs.modal.contains(event.target as HTMLElement)) {\\n        this.$emit(\'focusin:body\', event);\\n      }\\n    }\\n  }\\n<\/script>\\n\\n<style lang=\\"scss\\" scoped>\\n  .x-modal {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n\\n    display: flex;\\n    align-items: flex-start;\\n    justify-content: flex-start;\\n    width: 100%;\\n    height: 100%;\\n\\n    z-index: 1;\\n\\n    &__content {\\n      z-index: 1;\\n    }\\n\\n    &__overlay {\\n      width: 100%;\\n      height: 100%;\\n      position: fixed;\\n      background-color: rgba(0, 0, 0, 0.7);\\n      opacity: 0;\\n\\n      &--is-visible {\\n        transition: opacity 0.3s ease-out;\\n        opacity: 1;\\n      }\\n    }\\n  }\\n</style>\\n\\n<docs lang=\\"mdx\\">\\n## Examples\\n\\nThe `BaseModal` is a simple component that serves to create complex modals. Its open state has to be\\npassed via prop. It also accepts an animation to use for opening & closing.\\n\\nIt emits a `click:overlay` event when any part out of the content is clicked, but only if the modal\\nis open.\\n\\n```vue\\n<template>\\n  <div>\\n    <button @click=\\"open = true\\">Open modal</button>\\n    <BaseModal animation=\\"fadeAndSlide\\" :open=\\"open\\" @click:overlay=\\"open = false\\">\\n      <h1>Hello</h1>\\n      <p>The modal is working</p>\\n      <button @click=\\"open = false\\">Close modal</button>\\n    </BaseModal>\\n  </div>\\n</template>\\n\\n<script>\\n  import { BaseModal, FadeAndSlide } from \'@empathyco/x-components\';\\n  import Vue from \'vue\';\\n\\n  Vue.component(\'fadeAndSlide\', FadeAndSlide);\\n\\n  export default {\\n    components: {\\n      BaseModal\\n    },\\n    data() {\\n      return {\\n        open: false\\n      };\\n    }\\n  };\\n<\/script>\\n```\\n\\n## Vue Events\\n\\nA list of events that the component will emit:\\n\\n- `click:overlay`: the event is emitted after the user clicks any part out of the content but only\\n  if the modal is open. The event payload is the mouse event that triggers it.\\n- `focusin:body`: the event is emitted after the user focus in any part out of the content but only\\n  if the modal is open. The event payload is the focus event that triggers it.\\n</docs>\\n"],"names":["const"],"mappings":";;;;;AAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}')}}]);