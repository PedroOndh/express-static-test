(window.webpackJsonp=window.webpackJsonp||[]).push([[975],{1248:function(A,e){throw new Error('Module parse failed: Unexpected token (1:10)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n> {"version":3,"file":"wires.operators.js","sources":["../../../src/wiring/wires.operators.ts"],"sourcesContent":["import {\\n  debounce as debounceRx,\\n  filter as filterRx,\\n  map,\\n  throttle as throttleRx\\n} from \'rxjs/operators\';\\nimport { XModuleName } from \'../x-modules/x-modules.types\';\\nimport { createTimer, normalizeTime } from \'./wires-operators.utils\';\\nimport { TimedWireOperatorOptions, TimeSelector, Wire, WireParams } from \'./wiring.types\';\\n\\n/**\\n * Creates a {@link Wire} that is only executed whenever the condition in the filterFn is true.\\n *\\n * @param wire - The wire to filter.\\n * @param filterFn - A function which must return a boolean and that will be executed every time\\n * the wire is called.\\n * @returns The Wire function filter.\\n *\\n * @public\\n */\\nexport function filter<Payload>(\\n  wire: Wire<Payload>,\\n  filterFn: (parameters: WireParams<Payload>) => boolean\\n): Wire<Payload> {\\n  return (observable, store, on) =>\\n    wire(observable.pipe(filterRx(wirePayload => filterFn({ ...wirePayload, store }))), store, on);\\n}\\n\\n/**\\n * Creates a {@link Wire} that is only executed when the payload is truthy. A truthy value is\\n * whatever is not a {@link https://developer.mozilla.org/en-US/docs/Glossary/Falsy | falsy value}.\\n *\\n * @param wire - The wire to avoid executing when the payload is falsy.\\n * @returns The Wire function falsy filter.\\n *\\n * @public\\n */\\nexport function filterFalsyPayload<Payload>(wire: Wire<Payload>): Wire<Payload> {\\n  return filter(wire, ({ eventPayload }) => !!eventPayload);\\n}\\n\\n/**\\n * Creates a {@link Wire} that is only executed when the payload is a\\n * {@link https://developer.mozilla.org/en-US/docs/Glossary/Falsy | falsy value}.\\n *\\n * @param wire - The wire to avoid executing when the payload is truthy.\\n * @returns The Wire function truthy filter.\\n *\\n * @public\\n */\\nexport function filterTruthyPayload<Payload>(wire: Wire<Payload>): Wire<Payload> {\\n  return filter(wire, ({ eventPayload }) => !eventPayload);\\n}\\n\\n/**\\n * Creates a {@link Wire} that is only executed if the event is emitted from a {@link XModule}\\n * that is included\\n * in the `whitelist` array passed as parameter.\\n *\\n * @param wire - The wire to filter using the whitelist.\\n * @param whitelist - An array of {@link XModuleName} or null.\\n * @returns The Wire function with whitelisted modules filter.\\n *\\n * @public\\n */\\nexport function filterWhitelistedModules<Payload>(\\n  wire: Wire<Payload>,\\n  whitelist: Array<XModuleName | null>\\n): Wire<Payload> {\\n  const whitelistSet = new Set(whitelist);\\n  return filter(wire, ({ metadata }) => whitelistSet.has(metadata.moduleName));\\n}\\n\\n/**\\n * Creates a {@link Wire} that is only executed if the event is emitted from a {@link XModule}\\n * that is NOT included\\n * in the `blacklist` array passed as parameter.\\n *\\n * @param wire - The wire to filter using the whitelist.\\n * @param blacklist - An array of {@link XModuleName} or null.\\n * @returns The Wire function with blacklisted modules filter.\\n *\\n * @public\\n */\\nexport function filterBlacklistedModules<Payload>(\\n  wire: Wire<Payload>,\\n  blacklist: Array<XModuleName | null>\\n): Wire<Payload> {\\n  const blacklistSet = new Set(blacklist);\\n  return filter(wire, ({ metadata }) => !blacklistSet.has(metadata.moduleName));\\n}\\n\\n/**\\n * Creates a debounced {@link Wire}. Being debounced means that it will only be executed after\\n * the time given by `timeInMs` has passed without invoking it.\\n *\\n * @param wire - The wire to debounce.\\n * @param timeInMs - The time in milliseconds to debounce the wire execution or a function to\\n * retrieve it from the store.\\n * @param options - Options to configure this wire with, like an event to force it or cancel it.\\n * @returns The Wire function with a debounced timing.\\n *\\n * @public\\n */\\nexport function debounce<Payload>(\\n  wire: Wire<Payload>,\\n  timeInMs: TimeSelector | number,\\n  options: TimedWireOperatorOptions = {}\\n): Wire<Payload> {\\n  return (observable, store, on) => {\\n    return wire(\\n      observable.pipe(debounceRx(() => createTimer(normalizeTime(timeInMs, store), options, on))),\\n      store,\\n      on\\n    );\\n  };\\n}\\n\\n/**\\n * Creates a throttled {@link Wire}. Being throttled means that it will only be executed once\\n * every couple of milliseconds given by the `timeInMs` parameter.\\n *\\n * @param wire - The wire to throttle.\\n * @param timeInMs - The time in milliseconds to throttle the wire execution or a function to\\n * retrieve it from the store.\\n * @param options - Options to configure this wire with, like an event to force it or cancel it.\\n * @returns The Wire function with a throttle timing.\\n *\\n * @public\\n */\\nexport function throttle<Payload>(\\n  wire: Wire<Payload>,\\n  timeInMs: TimeSelector | number,\\n  options: TimedWireOperatorOptions = {}\\n): Wire<Payload> {\\n  return (observable, store, on) => {\\n    return wire(\\n      observable.pipe(\\n        throttleRx(() => createTimer(normalizeTime(timeInMs, store), options, on), {\\n          leading: true,\\n          trailing: true\\n        })\\n      ),\\n      store,\\n      on\\n    );\\n  };\\n}\\n\\n/**\\n * Creates a {@link Wire} from other `toWire` wire. It uses `mapFn` to transform the\\n * `FromPayload` received to `ToPayload` which `toWire` requires. This is\\n * useful to reuse wires in different Events where the payload doesn\'t fit exactly.\\n *\\n * @param toWire - The wire which the new Wire is created from.\\n * @param mapFn - Function to map the payload from `FromPayload` to `ToPayload`.\\n * @returns A new {@link Wire}.\\n *\\n * @public\\n */\\nexport function mapWire<FromPayload, ToPayload>(\\n  toWire: Wire<ToPayload>,\\n  mapFn: (payload: FromPayload) => ToPayload\\n): Wire<FromPayload> {\\n  return (observable, ...restWireParams) =>\\n    toWire(\\n      observable.pipe(\\n        map(({ eventPayload, ...restWirePayload }) => ({\\n          eventPayload: mapFn(eventPayload),\\n          ...restWirePayload\\n        }))\\n      ),\\n      ...restWireParams\\n    );\\n}\\n"],"names":["filterRx","debounceRx","throttleRx"],"mappings":"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"}')}}]);